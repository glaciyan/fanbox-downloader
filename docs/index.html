<!doctype html>

<html lang="ja">

<head>
    <meta charset="utf-8" />
    <meta name="description" content="pixiv FANBOX batch download" />
    <title>fanbox-downloader</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous" />
    <style>
        button.copy {
            display: block;
            font-size: 75%;
            color: #818a91;
            cursor: pointer;
            background-color: transparent;
            position: absolute;
            top: 0;
            right: 0;
        }

        div.copy {
            float: right;
            position: relative;
        }

        div.code {
            padding: 24px;
            background-color: #f8f9fa;
            overflow-x: auto;
            white-space: nowrap;
        }

        div.code-bg {
            display: inline-block;
            max-width: 100%;
        }

        div.text-body {
            text-align: left;
            margin: 15px;
        }

        div.text-cite {
            text-align: left;
            margin: 15px;
            font-size: 80%;
        }
    </style>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-H05HP1B634"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());
        gtag('config', 'G-H05HP1B634');
    </script>
</head>

<body>
    <div class="text-center" style="margin: 10px">
        <h2>fanbox-downloader</h2>
        <div>
            Bookmarklet to batch download pixiv FANBOX posts as ZIP.<br />
            Modified and Translated version of the <a href="https://github.com/darekasan/fanbox-downloader">original</a>.
        </div>
        <br />
        <div class="code-bg">
            <div class="text-body">
                <h5>Tutorial</h5>
                <br />
                <p>1. Add the bookmarklet to your bookmarks.</p>
            </div>

            <div class="copy">
                <button class="copy btn" type="button" id="copy">copy</button>
            </div>
            <div class="code" id="code">
                javascript:import("https://fanbox-download.glaciyan.cc/fanbox-downloader.min.js").then(m=>m.main()).catch(e=>alert(`Error: (${e})`));
            </div>

            <div class="text-body">
                <p>2. Go to a fanbox creator or post<a href="#cite-1">^1</a></p>
                <p>3. The script will collect all posts. After it is done it attempts to copy the JSON data to your clipboard. If that fails you can also copy it from the console.</p>
                <p>
                    4. The script will open download.fanbox.cc<a href="#cite-2">^2</a>. There you run the script again, which will open a page where you paste in the JSON data into the textbox.
                </p>
                <p>5. Wait for the download to finish.</p>
            </div>

            <br />

            <div class="text-cite">
                <p id="cite-1">[^1]: Pages with URLs starting with XXX.fanbox.cc or fanbox.cc/@XXX</p>
                <p id="cite-2">
                    [^2]: The page url has to start with download.fanbox.cc (this is the website where the images are stored in the orignal size).
                </p>
            </div>

            <br />

            <div class="text-body">
                <h5>Links</h5>
                <ul>
                    <li><a href="https://github.com/glaciyan/fanbox-downloader">Translation fork</a></li>
                    <li><a href="https://github.com/Narazaka/fanbox-downloader">Second fork</a></li>
                    <li>
                        <a href="https://github.com/furubarug/fanbox-downloader">First fork</a>
                    </li>
                    <li>
                        <a href="https://github.com/darekasan/fanbox-downloader">Orignal</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        function copy() {
            const node = document.querySelector('#code');
            const range = document.createRange();
            const selection = window.getSelection();
            range.selectNodeContents(node);
            selection.removeAllRanges();
            selection.addRange(range);
            document.execCommand('copy');
        }

        document.querySelector('#copy').addEventListener('click', copy);
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>
</body>

</html>